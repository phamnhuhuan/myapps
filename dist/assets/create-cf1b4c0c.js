import{_ as h,a as f,r as v,t as y,b,o as s,c as l,i as k,d as t,l as u,v as p,n as w,h as _,k as d,e as c,L as V,j as C}from"./index-e4697372.js";const P={setup(){const e=f({name_tour:"",price:"",img_tour:"",img_map:"",infor:"",about:"",id_cate:[],imgPreview:null,imgPreviewMap:null}),r=i=>{e.img_tour=i.target.files[0];let n=new FileReader;n.addEventListener("load",(function(){e.imgPreview=n.result}).bind(e),!1),e.img_tour&&/\.(jpe?g|png|gif)$/i.test(e.img_tour.name)&&n.readAsDataURL(e.img_tour)},m=i=>{e.img_map=i.target.files[0];let n=new FileReader;n.addEventListener("load",(function(){e.imgPreviewMap=n.result}).bind(e),!1),e.img_map&&/\.(jpe?g|png|gif)$/i.test(e.img_map.name)&&n.readAsDataURL(e.img_map)},o=v({});return{onChangemap:m,create_tour:()=>{const i=new FormData;i.append("name_tour",e.name_tour),i.append("price",e.price),i.append("infor",e.infor),i.append("about",e.about),i.append("file",e.img_tour),i.append("id_cate",e.id_cate),i.append("map",e.img_map),axios.post("http://localhost/travelapi/api/tour/store",i).then(n=>{e.img_tour="",e.imgPreview="",console.log(n)}).catch(function(n){o.value=n.response.data.errors,console.log(n)})},onChange:r,err_tour:o,...y(e)}}},U={class:"admin"},D=t("p",null,"ten",-1),M={key:0,style:{color:"red"}},L=t("p",null,"gia",-1),R={key:1,style:{color:"red"}},N=t("p",null,"hinhanh",-1),j=t("br",null,null,-1),B={key:2,style:{color:"red"}},E={key:3},F={class:"max-w-[50px]"},S=["src"],q=t("p",null,"thong tin",-1),A={key:4,style:{color:"red"}},T=t("p",null,"tong quan",-1),z={key:5,style:{color:"red"}},G=t("p",null,"hinhanh map",-1),H=t("br",null,null,-1),I={key:6,style:{color:"red"}},J={key:7},K={class:"max-w-[50px]"},O=["src"],Q=t("option",{value:"1"},"mien tay",-1),W=t("option",{value:"2"},"phu quoc",-1),X=t("option",{value:"3"},"sai gon",-1),Y=[Q,W,X],Z={key:8,style:{color:"red"}},x=t("button",{type:"submit",class:"border"},"them tour",-1);function $(e,r,m,o,g,i){const n=b("ckeditor");return s(),l("div",U,[k("tao tour "),t("form",{onSubmit:r[7]||(r[7]=C((...a)=>o.create_tour&&o.create_tour(...a),["prevent"]))},[D,u(t("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=a=>e.name_tour=a),class:w(["border",{err_input:o.err_tour.name_tour}])},null,2),[[p,e.name_tour]]),o.err_tour.name_tour?(s(),l("p",M,_(o.err_tour.name_tour[0]),1)):d("",!0),L,u(t("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=a=>e.price=a),class:"border"},null,512),[[p,e.price]]),o.err_tour.price?(s(),l("p",R,_(o.err_tour.price[0]),1)):d("",!0),N,j,o.err_tour.img_tour?(s(),l("p",B,_(o.err_tour.img_tour[0]),1)):d("",!0),t("input",{type:"file",name:"",onChange:r[2]||(r[2]=(...a)=>o.onChange&&o.onChange(...a))},null,32),e.img_tour?(s(),l("div",E,[t("div",F,[t("img",{src:e.imgPreview},null,8,S)])])):d("",!0),q,c(n,{modelValue:e.infor,"onUpdate:modelValue":r[3]||(r[3]=a=>e.infor=a)},null,8,["modelValue"]),o.err_tour.infor?(s(),l("p",A,_(o.err_tour.infor[0]),1)):d("",!0),T,c(n,{modelValue:e.about,"onUpdate:modelValue":r[4]||(r[4]=a=>e.about=a)},null,8,["modelValue"]),o.err_tour.about?(s(),l("p",z,_(o.err_tour.about[0]),1)):d("",!0),G,H,t("input",{type:"file",name:"",onChange:r[5]||(r[5]=(...a)=>o.onChangemap&&o.onChangemap(...a))},null,32),o.err_tour.map?(s(),l("p",I,_(o.err_tour.map[0]),1)):d("",!0),e.img_map?(s(),l("div",J,[t("div",K,[t("img",{src:e.imgPreviewMap},null,8,O)])])):d("",!0),u(t("select",{name:"",id:"","onUpdate:modelValue":r[6]||(r[6]=a=>e.id_cate=a),class:"border"},Y,512),[[V,e.id_cate]]),o.err_tour.id_cate?(s(),l("p",Z,_(o.err_tour.id_cate[0]),1)):d("",!0),x],32)])}const oe=h(P,[["render",$]]);export{oe as default};
